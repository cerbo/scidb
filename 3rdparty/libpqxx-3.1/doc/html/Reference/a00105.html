<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libpqxx: pqxx::transaction_base Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="classes.html"><span>Alphabetical&nbsp;List</span></a></li>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="a00171.html">pqxx</a>::<a class="el" href="a00105.html">transaction_base</a>
  </div>
</div>
<div class="contents">
<h1>pqxx::transaction_base Class Reference</h1><!-- doxytag: class="pqxx::transaction_base" --><!-- doxytag: inherits="pqxx::internal::namedclass" --><code>#include &lt;<a class="el" href="a00258.html">transaction_base.hxx</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for pqxx::transaction_base:</div>
<div class="dynsection">
<p><center><img src="a00648.png" border="0" usemap="#a00649" alt="Inheritance graph"></center>
<map name="a00649">
<area shape="rect" href="a00025.html" title="pqxx::dbtransaction" alt="" coords="469,56,616,83"><area shape="rect" href="a00055.html" title="pqxx::nontransaction" alt="" coords="465,107,620,134"><area shape="rect" href="a00053.html" title="pqxx::internal::namedclass" alt="" coords="5,82,197,108"><area shape="rect" href="a00008.html" title="pqxx::basic_robusttransaction" alt="" coords="671,6,881,32"><area shape="rect" href="a00009.html" title="pqxx::basic_transaction" alt="" coords="691,56,861,83"><area shape="rect" href="a00097.html" title="&quot;Transaction&quot; nested within another transaction" alt="" coords="699,107,853,134"><area shape="rect" href="a00084.html" title="Slightly slower, better&#45;fortified version of transaction." alt="" coords="952,6,1259,32"><area shape="rect" href="a00104.html" title="Standard back&#45;end transaction, templatized on isolation level." alt="" coords="932,56,1279,83"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="a00650.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Types</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="a00048.html">isolation_traits</a><br>
&lt; read_committed &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#f5e1900b64239bac292f5505f7799654">isolation_tag</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">If nothing else is known, our isolation level is at least read_committed.  <a href="#f5e1900b64239bac292f5505f7799654"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#d5ddea378795d92908af4b65e59d585a">~transaction_base</a> ()=0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#b2cf42c4821aff7ff1cd906af9165725">commit</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commit the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="#b2cf42c4821aff7ff1cd906af9165725"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#955f2497216d9eae268ac662b46d5a45">abort</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Abort the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="#955f2497216d9eae268ac662b46d5a45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00196.html#g392c92f5ae4ee675dddc1e10d5d1ebfb">esc</a> (const char str[]) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape string for use as SQL string literal in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="a00196.html#g392c92f5ae4ee675dddc1e10d5d1ebfb"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00196.html#gc6f7e057105ccf54bfcde01dabbec326">esc</a> (const char str[], size_t maxlen) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape string for use as SQL string literal in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="a00196.html#gc6f7e057105ccf54bfcde01dabbec326"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00196.html#g94e4260c184cf6242e471659c7b288e4">esc</a> (const std::string &amp;str) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape string for use as SQL string literal in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="a00196.html#g94e4260c184cf6242e471659c7b288e4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00196.html#gd8ad632a47ec00739c9c9a61452dc98d">esc_raw</a> (const unsigned char str[], size_t len) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape binary data for use as SQL string literal in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="a00196.html#gd8ad632a47ec00739c9c9a61452dc98d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00196.html#g489c7438da9241486297a451a8579dc1">esc_raw</a> (const std::string &amp;) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Escape binary data for use as SQL string literal in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="a00196.html#g489c7438da9241486297a451a8579dc1"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00196.html#g558cf87de1ea1b3b86b5cdcc77574c57">quote</a> (const T &amp;t) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Represent object as SQL string, including quoting &amp; escaping.  <a href="a00196.html#g558cf87de1ea1b3b86b5cdcc77574c57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00076.html">result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#ed91d0b8029795b477470e854c907c4b">exec</a> (const std::string &amp;Query, const std::string &amp;Desc=std::string())</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute query.  <a href="#ed91d0b8029795b477470e854c907c4b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00076.html">result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#938732e87f924fee764cddd8390de20f">exec</a> (const std::stringstream &amp;Query, const std::string &amp;Desc=std::string())</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00061.html">internal::parameterized_invocation</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#6ec73bd0d2a37553c8518e0ef428dee4">parameterized</a> (const std::string &amp;query)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parameterize a statement.  <a href="#6ec73bd0d2a37553c8518e0ef428dee4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00020.html">connection_base</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#ed167261c4d76876241b5f615b9b8c7a">conn</a> () const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Connection this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> is running in.  <a href="#ed167261c4d76876241b5f615b9b8c7a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#b7510be596a5a14014064c884a10fd93">set_variable</a> (const std::string &amp;Var, const std::string &amp;Val)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set session variable in this connection.  <a href="#b7510be596a5a14014064c884a10fd93"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#87f5147f2dc2dfbcc3b5aef4b461be86">get_variable</a> (const std::string &amp;)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get currently applicable value of variable.  <a href="#87f5147f2dc2dfbcc3b5aef4b461be86"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Prepared statements</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00047.html">prepare::invocation</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#1357ac4f6330284129c91882a169276d">prepared</a> (const std::string &amp;statement=std::string())</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute prepared statement.  <a href="#1357ac4f6330284129c91882a169276d"></a><br></td></tr>
<tr><td colspan="2"><div class="groupHeader">Error/warning output</div></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#99f99eb85906a7541119c9098a36d799">process_notice</a> (const char Msg[]) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Have connection process warning message.  <a href="#99f99eb85906a7541119c9098a36d799"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#a90bc6e1219ff68ef11e1d04b76c205c">process_notice</a> (const std::string &amp;Msg) const </td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Have connection process warning message.  <a href="#a90bc6e1219ff68ef11e1d04b76c205c"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#92fc088d2f2c3e1e5992b4e14c703684">transaction_base</a> (<a class="el" href="a00020.html">connection_base</a> &amp;c, bool direct=true)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> (to be called by implementation classes only).  <a href="#92fc088d2f2c3e1e5992b4e14c703684"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#1d2a8554499cbd93ff8c2bf5c15843ff">Begin</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begin <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> (to be called by implementing class).  <a href="#1d2a8554499cbd93ff8c2bf5c15843ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#f2ddcd7f1def9dfd3f15c0f3242b9136">End</a> ()  throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">End <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>. To be called by implementing class' destructor.  <a href="#f2ddcd7f1def9dfd3f15c0f3242b9136"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#a80a7816f63c425c28cd4037aaa8cf8f">do_begin</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To be implemented by derived implementation class: start <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="#a80a7816f63c425c28cd4037aaa8cf8f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual <a class="el" href="a00076.html">result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#6f587ae3bda7a32c8828984e7c4aa16e">do_exec</a> (const char Query[])=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To be implemented by derived implementation class: perform query.  <a href="#6f587ae3bda7a32c8828984e7c4aa16e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#475695c55439007cd2438fb184ed8be3">do_commit</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To be implemented by derived implementation class: commit <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="#475695c55439007cd2438fb184ed8be3"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#8fc9a363bcf7defb3c829a633c04ae6c">do_abort</a> ()=0</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">To be implemented by derived implementation class: abort <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.  <a href="#8fc9a363bcf7defb3c829a633c04ae6c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00076.html">result</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#c80f81e53c31f3a2052dc24fc6bbb7ee">DirectExec</a> (const char C[], int Retries=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Execute query on connection directly.  <a href="#c80f81e53c31f3a2052dc24fc6bbb7ee"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#84df458282939ef38cfddfaa07bea1d8">reactivation_avoidance_clear</a> ()  throw ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Forget about any reactivation-blocking resources we tried to allocate.  <a href="#84df458282939ef38cfddfaa07bea1d8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="a00072.html">internal::reactivation_avoidance_counter</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#dc48441869caf6a4b84911cd6984c36a">m_reactivation_avoidance</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Resources allocated in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> that make reactivation impossible.  <a href="#dc48441869caf6a4b84911cd6984c36a"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Friends</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#cf16920b6582767aae17d6c57770e853">pqxx::internal::gate::transaction_transactionfocus</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#fbc1622f03aeb05c34ac44f1c5c179dc">pqxx::internal::gate::transaction_tablereader</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#02ad6878f438fc51b297b32e7512e244">pqxx::internal::gate::transaction_tablewriter</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">class&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00105.html#e689290143788842755389246915b9f2">pqxx::internal::gate::transaction_subtransaction</a></td></tr>

</table>
<hr><h2>Member Typedef Documentation</h2>
<a class="anchor" name="f5e1900b64239bac292f5505f7799654"></a><!-- doxytag: member="pqxx::transaction_base::isolation_tag" ref="f5e1900b64239bac292f5505f7799654" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="a00048.html">isolation_traits</a>&lt;read_committed&gt; <a class="el" href="a00048.html">pqxx::transaction_base::isolation_tag</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
If nothing else is known, our isolation level is at least read_committed. 
<p>

<p>Reimplemented in <a class="el" href="a00008.html#ad0757a015b2ddfe476e3d83f812bbff">pqxx::basic_robusttransaction</a>, <a class="el" href="a00084.html#8fb228809bd42b2936ada9f9573d30d6">pqxx::robusttransaction&lt; ISOLATIONLEVEL &gt;</a>, and <a class="el" href="a00104.html#01e7ecea76d7d12c295e6979759eb754">pqxx::transaction&lt; ISOLATIONLEVEL, READWRITE &gt;</a>.</p>

</div>
</div><p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="d5ddea378795d92908af4b65e59d585a"></a><!-- doxytag: member="pqxx::transaction_base::~transaction_base" ref="d5ddea378795d92908af4b65e59d585a" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pqxx::transaction_base::~transaction_base           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>References <a class="el" href="a00258.html#l00293">conn()</a>, <a class="el" href="a00261.html#l00145">pqxx::internal::namedclass::description()</a>, <a class="el" href="a00218.html#l00514">pqxx::connection_base::process_notice()</a>, <a class="el" href="a00258.html#l00285">process_notice()</a>, and <a class="el" href="a00258.html#l00360">reactivation_avoidance_clear()</a>.</p>

</div>
</div><p>
<a class="anchor" name="92fc088d2f2c3e1e5992b4e14c703684"></a><!-- doxytag: member="pqxx::transaction_base::transaction_base" ref="92fc088d2f2c3e1e5992b4e14c703684" args="(connection_base &amp;c, bool direct=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pqxx::transaction_base::transaction_base           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="a00020.html">connection_base</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>direct</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [explicit, protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> (to be called by implementation classes only). 
<p>
The optional name, if nonempty, must begin with a letter and may contain letters and digits only.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>The connection that this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> is to act on. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>direct</em>&nbsp;</td><td>Running directly in connection context (i.e. not nested)? </td></tr>
  </table>
</dl>

<p>References <a class="el" href="a00258.html#l00293">conn()</a>, and <a class="el" href="a00257.html#l00061">transaction_base()</a>.</p>

<p>Referenced by <a class="el" href="a00257.html#l00061">transaction_base()</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="b2cf42c4821aff7ff1cd906af9165725"></a><!-- doxytag: member="pqxx::transaction_base::commit" ref="b2cf42c4821aff7ff1cd906af9165725" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::commit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Commit the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>. 
<p>
Unless this function is called explicitly, the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> will not be committed (actually the <a class="el" href="a00055.html">nontransaction</a> implementation breaks this rule, hence the name).<p>
Once this function returns, the whole <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> will typically be irrevocably completed in the database. There is also, however, a minute risk that the connection to the database may be lost at just the wrong moment. In that case, libpqxx may be unable to determine whether the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> was completed or aborted and an <a class="el" href="a00039.html" title="&quot;Help, I don&#39;t know whether transaction was committed successfully!&quot;...">in_doubt_error</a> will be thrown to make this fact known to the caller. The <a class="el" href="a00084.html" title="Slightly slower, better-fortified version of transaction.">robusttransaction</a> implementation takes some special precautions to reduce this risk. 
<p>References <a class="el" href="a00258.html#l00293">conn()</a>, <a class="el" href="a00261.html#l00145">pqxx::internal::namedclass::description()</a>, <a class="el" href="a00105.html#475695c55439007cd2438fb184ed8be3">do_commit()</a>, <a class="el" href="a00257.html#l00348">End()</a>, <a class="el" href="a00218.html#l00471">pqxx::connection_base::is_open()</a>, and <a class="el" href="a00218.html#l00514">pqxx::connection_base::process_notice()</a>.</p>

</div>
</div><p>
<a class="anchor" name="955f2497216d9eae268ac662b46d5a45"></a><!-- doxytag: member="pqxx::transaction_base::abort" ref="955f2497216d9eae268ac662b46d5a45" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::abort           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Abort the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>. 
<p>
No special effort is required to call this function; it will be called implicitly when the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> is destructed. 
<p>References <a class="el" href="a00261.html#l00145">pqxx::internal::namedclass::description()</a>, <a class="el" href="a00105.html#8fc9a363bcf7defb3c829a633c04ae6c">do_abort()</a>, <a class="el" href="a00257.html#l00348">End()</a>, and <a class="el" href="a00218.html#l00514">pqxx::connection_base::process_notice()</a>.</p>

<p>Referenced by <a class="el" href="a00223.html#l00087">pqxx::dbtransaction::do_exec()</a>, and <a class="el" href="a00257.html#l00348">End()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ed91d0b8029795b477470e854c907c4b"></a><!-- doxytag: member="pqxx::transaction_base::exec" ref="ed91d0b8029795b477470e854c907c4b" args="(const std::string &amp;Query, const std::string &amp;Desc=std::string())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00076.html">pqxx::result</a> pqxx::transaction_base::exec           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Desc</em> = <code>std&nbsp;::string()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Execute query. 
<p>
Perform a query in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>.<p>
This is one of the most important functions in libpqxx.<p>
Most libpqxx exceptions can be thrown from here, including <a class="el" href="a00088.html" title="Exception class for failed queries.">sql_error</a>, <a class="el" href="a00011.html" title="Exception class for lost or failed backend connection.">broken_connection</a>, and many <a class="el" href="a00088.html" title="Exception class for failed queries.">sql_error</a> subtypes such as <a class="el" href="a00033.html" title="Database feature not supported in current setup.">feature_not_supported</a> or <a class="el" href="a00040.html">insufficient_privilege</a>. But any exception thrown by the C++ standard library may also occur here. All exceptions will be derived from std::exception, however, and all libpqxx-specific exception types are derived from <a class="el" href="a00068.html" title="Mixin base class to identify libpqxx-specific exception types.">pqxx::pqxx_exception</a>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Query</em>&nbsp;</td><td>Query or command to execute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Desc</em>&nbsp;</td><td>Optional identifier for query, to help pinpoint SQL errors </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A <a class="el" href="a00076.html" title="Query or command result set.">result</a> set describing the query's or command's <a class="el" href="a00076.html" title="Query or command result set.">result</a> </dd></dl>

<p>References <a class="el" href="a00261.html#l00145">pqxx::internal::namedclass::description()</a>, and <a class="el" href="a00105.html#6f587ae3bda7a32c8828984e7c4aa16e">do_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="938732e87f924fee764cddd8390de20f"></a><!-- doxytag: member="pqxx::transaction_base::exec" ref="938732e87f924fee764cddd8390de20f" args="(const std::stringstream &amp;Query, const std::string &amp;Desc=std::string())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00076.html">result</a> pqxx::transaction_base::exec           </td>
          <td>(</td>
          <td class="paramtype">const std::stringstream &amp;&nbsp;</td>
          <td class="paramname"> <em>Query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Desc</em> = <code>std&nbsp;::string()</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6ec73bd0d2a37553c8518e0ef428dee4"></a><!-- doxytag: member="pqxx::transaction_base::parameterized" ref="6ec73bd0d2a37553c8518e0ef428dee4" args="(const std::string &amp;query)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00061.html">internal::parameterized_invocation</a> pqxx::transaction_base::parameterized           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>query</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parameterize a statement. 
<p>

</div>
</div><p>
<a class="anchor" name="1357ac4f6330284129c91882a169276d"></a><!-- doxytag: member="pqxx::transaction_base::prepared" ref="1357ac4f6330284129c91882a169276d" args="(const std::string &amp;statement=std::string())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00047.html">pqxx::prepare::invocation</a> pqxx::transaction_base::prepared           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>statement</em> = <code>std&nbsp;::string()</code>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Execute prepared statement. 
<p>
Prepared statements are defined using the connection classes' prepare() function, and continue to live on in the ongoing session regardless of the context they were defined in (unless explicitly dropped using the connection's unprepare() function). Their execution however, like other forms of query execution, requires a <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> object.<p>
Just like param_declaration is a helper class that lets you tag parameter declarations onto the statement declaration, the invocation class returned here lets you tag parameter values onto the call:<p>
<div class="fragment"><pre class="fragment"> result run_mystatement(transaction_base &amp;T)
 {
   <span class="keywordflow">return</span> T.prepared(<span class="stringliteral">"mystatement"</span>)(<span class="stringliteral">"param1"</span>)(2)()(4).exec();
 }
</pre></div><p>
Here, parameter 1 (written as "&lt;tt&gt;$1&lt;/tt&gt;" in the statement's body) is a string that receives the value "param1"; the second parameter is an integer with the value 2; the third receives a null, making its type irrelevant; and number 4 again is an integer. The ultimate invocation of <a class="el" href="a00105.html#ed91d0b8029795b477470e854c907c4b" title="Execute query.">exec()</a> is essential; if you forget this, nothing happens.<p>
To see whether any prepared statement has been defined under a given name, use:<p>
<div class="fragment"><pre class="fragment"> T.prepared(<span class="stringliteral">"mystatement"</span>).exists()
</pre></div><p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Do not try to execute a prepared statement manually through direct SQL statements. This is likely not to work, and even if it does, is likely to be slower than using the proper libpqxx functions. Also, libpqxx knows how to emulate prepared statements if some part of the infrastructure does not support them.<p>
Actual definition of the prepared statement on the backend may be deferred until its first use, which means that any errors in the prepared statement may not show up until it is executed--and perhaps abort the ongoing <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> in the process.</dd></dl>
If you leave out the statement name, the call refers to the nameless statement instead. 
</div>
</div><p>
<a class="anchor" name="99f99eb85906a7541119c9098a36d799"></a><!-- doxytag: member="pqxx::transaction_base::process_notice" ref="99f99eb85906a7541119c9098a36d799" args="(const char Msg[]) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::process_notice           </td>
          <td>(</td>
          <td class="paramtype">const char&nbsp;</td>
          <td class="paramname"> <em>Msg</em>[]          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Have connection process warning message. 
<p>

<p>Referenced by <a class="el" href="a00228.html#l00320">pqxx::largeobjectaccess::process_notice()</a>, and <a class="el" href="a00257.html#l00079">~transaction_base()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a90bc6e1219ff68ef11e1d04b76c205c"></a><!-- doxytag: member="pqxx::transaction_base::process_notice" ref="a90bc6e1219ff68ef11e1d04b76c205c" args="(const std::string &amp;Msg) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::process_notice           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Have connection process warning message. 
<p>

</div>
</div><p>
<a class="anchor" name="ed167261c4d76876241b5f615b9b8c7a"></a><!-- doxytag: member="pqxx::transaction_base::conn" ref="ed167261c4d76876241b5f615b9b8c7a" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00020.html">connection_base</a>&amp; pqxx::transaction_base::conn           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Connection this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> is running in. 
<p>

<p>Referenced by <a class="el" href="a00236.html#l00140">pqxx::pipeline::cancel()</a>, <a class="el" href="a00257.html#l00111">commit()</a>, <a class="el" href="a00257.html#l00404">DirectExec()</a>, <a class="el" href="a00223.html#l00079">pqxx::dbtransaction::do_begin()</a>, <a class="el" href="a00257.html#l00348">End()</a>, <a class="el" href="a00238.html#l00073">pqxx::prepare::invocation::exec()</a>, <a class="el" href="a00238.html#l00087">pqxx::prepare::invocation::exists()</a>, <a class="el" href="a00257.html#l00317">get_variable()</a>, <a class="el" href="a00228.html#l00140">pqxx::largeobject::RawConnection()</a>, <a class="el" href="a00257.html#l00307">set_variable()</a>, <a class="el" href="a00257.html#l00061">transaction_base()</a>, <a class="el" href="a00236.html#l00057">pqxx::pipeline::~pipeline()</a>, <a class="el" href="a00249.html#l00048">pqxx::tablereader::~tablereader()</a>, <a class="el" href="a00253.html#l00040">pqxx::tablewriter::~tablewriter()</a>, <a class="el" href="a00256.html#l00107">pqxx::transaction&lt; ISOLATIONLEVEL, READWRITE &gt;::~transaction()</a>, and <a class="el" href="a00257.html#l00079">~transaction_base()</a>.</p>

</div>
</div><p>
<a class="anchor" name="b7510be596a5a14014064c884a10fd93"></a><!-- doxytag: member="pqxx::transaction_base::set_variable" ref="b7510be596a5a14014064c884a10fd93" args="(const std::string &amp;Var, const std::string &amp;Val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::set_variable           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set session variable in this connection. 
<p>
The new value is typically forgotten if the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> aborts. Known exceptions to this rule are <a class="el" href="a00055.html">nontransaction</a>, and PostgreSQL versions prior to 7.3. In the case of <a class="el" href="a00055.html">nontransaction</a>, the set value will be kept regardless; but in that case, if the connection ever needs to be recovered, the set value will not be restored. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>Var</em>&nbsp;</td><td>The variable to set </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Val</em>&nbsp;</td><td>The new value to store in the variable </td></tr>
  </table>
</dl>

<p>References <a class="el" href="a00258.html#l00293">conn()</a>.</p>

</div>
</div><p>
<a class="anchor" name="87f5147f2dc2dfbcc3b5aef4b461be86"></a><!-- doxytag: member="pqxx::transaction_base::get_variable" ref="87f5147f2dc2dfbcc3b5aef4b461be86" args="(const std::string &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string pqxx::transaction_base::get_variable           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Var</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get currently applicable value of variable. 
<p>
First consults an <a class="el" href="a00186.html" title="Private namespace for libpqxx&#39;s internal use; do not access.">internal</a> cache of variables that have been set (whether in the ongoing <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> or in the connection) using the set_variable functions. If it is not found there, the database is queried.<p>
<dl class="warning" compact><dt><b>Warning:</b></dt><dd>Do not mix the set_variable with raw "SET" queries, and do not try to set or get variables while a <a class="el" href="a00062.html" title="Processes several queries in FIFO manner, optimized for high throughput.">pipeline</a> or table stream is active.<p>
This function used to be declared as <code>const</code> but isn't anymore. </dd></dl>

<p>References <a class="el" href="a00258.html#l00293">conn()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1d2a8554499cbd93ff8c2bf5c15843ff"></a><!-- doxytag: member="pqxx::transaction_base::Begin" ref="1d2a8554499cbd93ff8c2bf5c15843ff" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::Begin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Begin <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> (to be called by implementing class). 
<p>
Will typically be called from implementing class' constructor. 
<p>References <a class="el" href="a00105.html#a80a7816f63c425c28cd4037aaa8cf8f">do_begin()</a>, <a class="el" href="a00257.html#l00348">End()</a>, and <a class="el" href="a00218.html#l00731">pqxx::connection_base::get_notifs()</a>.</p>

<p>Referenced by <a class="el" href="a00256.html#l00097">pqxx::transaction&lt; ISOLATIONLEVEL, READWRITE &gt;::transaction()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f2ddcd7f1def9dfd3f15c0f3242b9136"></a><!-- doxytag: member="pqxx::transaction_base::End" ref="f2ddcd7f1def9dfd3f15c0f3242b9136" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::End           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throw ()<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
End <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>. To be called by implementing class' destructor. 
<p>

<p>References <a class="el" href="a00257.html#l00187">abort()</a>, <a class="el" href="a00219.html#l00062">pqxx::internal::reactivation_avoidance_counter::clear()</a>, <a class="el" href="a00258.html#l00293">conn()</a>, <a class="el" href="a00261.html#l00145">pqxx::internal::namedclass::description()</a>, <a class="el" href="a00219.html#l00063">pqxx::internal::reactivation_avoidance_counter::get()</a>, <a class="el" href="a00258.html#l00367">m_reactivation_avoidance</a>, and <a class="el" href="a00218.html#l00514">pqxx::connection_base::process_notice()</a>.</p>

<p>Referenced by <a class="el" href="a00257.html#l00187">abort()</a>, <a class="el" href="a00257.html#l00325">Begin()</a>, <a class="el" href="a00257.html#l00111">commit()</a>, <a class="el" href="a00231.html#l00025">pqxx::nontransaction::~nontransaction()</a>, and <a class="el" href="a00256.html#l00107">pqxx::transaction&lt; ISOLATIONLEVEL, READWRITE &gt;::~transaction()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a80a7816f63c425c28cd4037aaa8cf8f"></a><!-- doxytag: member="pqxx::transaction_base::do_begin" ref="a80a7816f63c425c28cd4037aaa8cf8f" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void pqxx::transaction_base::do_begin           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
To be implemented by derived implementation class: start <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>. 
<p>

<p>Implemented in <a class="el" href="a00025.html#0b4da4b562a51ec0f03a9abf75acd14c">pqxx::dbtransaction</a>.</p>

<p>Referenced by <a class="el" href="a00257.html#l00325">Begin()</a>.</p>

</div>
</div><p>
<a class="anchor" name="6f587ae3bda7a32c8828984e7c4aa16e"></a><!-- doxytag: member="pqxx::transaction_base::do_exec" ref="6f587ae3bda7a32c8828984e7c4aa16e" args="(const char Query[])=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="a00076.html">result</a> pqxx::transaction_base::do_exec           </td>
          <td>(</td>
          <td class="paramtype">const char&nbsp;</td>
          <td class="paramname"> <em>Query</em>[]          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
To be implemented by derived implementation class: perform query. 
<p>

<p>Implemented in <a class="el" href="a00025.html#9b3e988901d4bec05d414543314a945b">pqxx::dbtransaction</a>.</p>

<p>Referenced by <a class="el" href="a00257.html#l00255">exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="475695c55439007cd2438fb184ed8be3"></a><!-- doxytag: member="pqxx::transaction_base::do_commit" ref="475695c55439007cd2438fb184ed8be3" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void pqxx::transaction_base::do_commit           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
To be implemented by derived implementation class: commit <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>. 
<p>

<p>Implemented in <a class="el" href="a00025.html#e434c2ec625a55ec8c6c4f57d1cb0a54">pqxx::dbtransaction</a>.</p>

<p>Referenced by <a class="el" href="a00257.html#l00111">commit()</a>.</p>

</div>
</div><p>
<a class="anchor" name="8fc9a363bcf7defb3c829a633c04ae6c"></a><!-- doxytag: member="pqxx::transaction_base::do_abort" ref="8fc9a363bcf7defb3c829a633c04ae6c" args="()=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void pqxx::transaction_base::do_abort           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
To be implemented by derived implementation class: abort <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>. 
<p>

<p>Implemented in <a class="el" href="a00025.html#38c5eb7ae19ad150f89e951261873aba">pqxx::dbtransaction</a>.</p>

<p>Referenced by <a class="el" href="a00257.html#l00187">abort()</a>.</p>

</div>
</div><p>
<a class="anchor" name="c80f81e53c31f3a2052dc24fc6bbb7ee"></a><!-- doxytag: member="pqxx::transaction_base::DirectExec" ref="c80f81e53c31f3a2052dc24fc6bbb7ee" args="(const char C[], int Retries=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00076.html">pqxx::result</a> pqxx::transaction_base::DirectExec           </td>
          <td>(</td>
          <td class="paramtype">const char&nbsp;</td>
          <td class="paramname"> <em>C</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>Retries</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Execute query on connection directly. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>C</em>&nbsp;</td><td>Query or command to execute </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>Retries</em>&nbsp;</td><td>Number of times to retry the query if it fails. Be extremely careful with this option; if you retry in the middle of a <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a>, you may be setting up a new connection transparently and executing the latter part of the <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> without a backend <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> being active (and with the former part aborted). </td></tr>
  </table>
</dl>

<p>References <a class="el" href="a00258.html#l00293">conn()</a>.</p>

<p>Referenced by <a class="el" href="a00223.html#l00101">pqxx::dbtransaction::do_abort()</a>, <a class="el" href="a00223.html#l00079">pqxx::dbtransaction::do_begin()</a>, and <a class="el" href="a00223.html#l00087">pqxx::dbtransaction::do_exec()</a>.</p>

</div>
</div><p>
<a class="anchor" name="84df458282939ef38cfddfaa07bea1d8"></a><!-- doxytag: member="pqxx::transaction_base::reactivation_avoidance_clear" ref="84df458282939ef38cfddfaa07bea1d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::transaction_base::reactivation_avoidance_clear           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%">  throw ()<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Forget about any reactivation-blocking resources we tried to allocate. 
<p>

<p>Referenced by <a class="el" href="a00223.html#l00101">pqxx::dbtransaction::do_abort()</a>, and <a class="el" href="a00257.html#l00079">~transaction_base()</a>.</p>

</div>
</div><p>
<hr><h2>Friends And Related Function Documentation</h2>
<a class="anchor" name="cf16920b6582767aae17d6c57770e853"></a><!-- doxytag: member="pqxx::transaction_base::pqxx::internal::gate::transaction_transactionfocus" ref="cf16920b6582767aae17d6c57770e853" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class pqxx::internal::gate::transaction_transactionfocus<code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="fbc1622f03aeb05c34ac44f1c5c179dc"></a><!-- doxytag: member="pqxx::transaction_base::pqxx::internal::gate::transaction_tablereader" ref="fbc1622f03aeb05c34ac44f1c5c179dc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class pqxx::internal::gate::transaction_tablereader<code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="02ad6878f438fc51b297b32e7512e244"></a><!-- doxytag: member="pqxx::transaction_base::pqxx::internal::gate::transaction_tablewriter" ref="02ad6878f438fc51b297b32e7512e244" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class pqxx::internal::gate::transaction_tablewriter<code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="e689290143788842755389246915b9f2"></a><!-- doxytag: member="pqxx::transaction_base::pqxx::internal::gate::transaction_subtransaction" ref="e689290143788842755389246915b9f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class pqxx::internal::gate::transaction_subtransaction<code> [friend]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="dc48441869caf6a4b84911cd6984c36a"></a><!-- doxytag: member="pqxx::transaction_base::m_reactivation_avoidance" ref="dc48441869caf6a4b84911cd6984c36a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="a00072.html">internal::reactivation_avoidance_counter</a> <a class="el" href="a00105.html#dc48441869caf6a4b84911cd6984c36a">pqxx::transaction_base::m_reactivation_avoidance</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Resources allocated in this <a class="el" href="a00104.html" title="Standard back-end transaction, templatized on isolation level.">transaction</a> that make reactivation impossible. 
<p>
This number may be negative! 
<p>Referenced by <a class="el" href="a00257.html#l00348">End()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="a00258.html">transaction_base.hxx</a><li><a class="el" href="a00167.html">transaction_base.cxx</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 15 18:22:53 2010 for libpqxx by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
