<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>libpqxx: String conversion</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="classes.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>String conversion</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Namespaces</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">namespace &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00186.html">pqxx::internal</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Private namespace for libpqxx's <a class="el" href="a00186.html" title="Private namespace for libpqxx&#39;s internal use; do not access.">internal</a> use; do not access. <br></td></tr>

<p>
<tr><td colspan="2"><br><h2>Classes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html">pqxx::string_traits&lt; T &gt;</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Traits class for use in string conversions.  <a href="a00090.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00093.html">pqxx::pqxx::string_traits&lt; const char * &gt;</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String traits for C-style string ("pointer to const char").  <a href="a00093.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html">pqxx::pqxx::string_traits&lt; char * &gt;</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String traits for non-const C-style string ("pointer to char").  <a href="a00091.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00092.html">pqxx::pqxx::string_traits&lt; char[N]&gt;</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">String traits for C-style string constant ("array of char").  <a href="a00092.html#_details">More...</a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00095.html">pqxx::pqxx::string_traits&lt; std::string &gt;</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00094.html">pqxx::pqxx::string_traits&lt; const std::string &gt;</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00096.html">pqxx::pqxx::string_traits&lt; std::stringstream &gt;</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00194.html#g9c0b6d727ce7535938d64a819cf527b0">PQXX_DECLARE_STRING_TRAITS_SPECIALIZATION</a>(T)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00194.html#gd1cc702bf191d535e40a2d5b84042e1c">pqxx::from_string</a> (const char Str[], T &amp;Obj)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Attempt to convert postgres-generated string to given built-in type.  <a href="#gd1cc702bf191d535e40a2d5b84042e1c"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00194.html#gcd9090fef37cdca192a4e8204ef895c4">pqxx::from_string</a> (const char Str[], T &amp;Obj, size_t)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Conversion with known string length (for strings that may contain nuls).  <a href="#gcd9090fef37cdca192a4e8204ef895c4"></a><br></td></tr>
<tr><td class="memTemplParams" nowrap colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00194.html#gf11e0dd40ce4ff2094cc37337a972eed">pqxx::from_string&lt; std::string &gt;</a> (const char Str[], std::string &amp;Obj, size_t len)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00194.html#gdadff252c93dc630108f1667a75342b7">pqxx::from_string</a> (const std::string &amp;Str, T &amp;Obj)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00194.html#g5c1f04f36ada2b9ef338fc9d91fd4d4b">pqxx::from_string</a> (const std::stringstream &amp;Str, T &amp;Obj)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00194.html#gdf364687d64294fccdb7229fbcd4e871">pqxx::from_string</a> (const std::string &amp;Str, std::string &amp;Obj)</td></tr>

<tr><td class="memTemplParams" nowrap colspan="2">template&lt;typename T&gt; </td></tr>
<tr><td class="memTemplItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="a00194.html#ge4a87207681178bc15552f70693457ff">pqxx::to_string</a> (const T &amp;Obj)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Convert built-in type to a readable string that PostgreSQL will understand.  <a href="#ge4a87207681178bc15552f70693457ff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00194.html#gd7db89895c3e9dc77818dbdedbc31669">pqxx::to_string</a> (const char Obj[])</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
For purposes of communication with the server, values need to be converted from and to a human-readable string format that (unlike the various functions and templates in the C and C++ standard libraries) is not sensitive to locale settings and internationalization. This section contains functionality that is used extensively by libpqxx itself, but is also available for use by other programs. <hr><h2>Define Documentation</h2>
<a class="anchor" name="g9c0b6d727ce7535938d64a819cf527b0"></a><!-- doxytag: member="strconv.hxx::PQXX_DECLARE_STRING_TRAITS_SPECIALIZATION" ref="g9c0b6d727ce7535938d64a819cf527b0" args="(T)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define PQXX_DECLARE_STRING_TRAITS_SPECIALIZATION          </td>
          <td>(</td>
          <td class="paramtype">T&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">template</span>&lt;&gt; <span class="keyword">struct </span>PQXX_LIBEXPORT string_traits&lt;T&gt;                       \
{                                                                       \
  <span class="keyword">typedef</span> T subject_type;                                               \
  <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> *name() { <span class="keywordflow">return</span> #T; }                              \
  <span class="keyword">static</span> <span class="keywordtype">bool</span> has_null() { <span class="keywordflow">return</span> <span class="keyword">false</span>; }                              \
  <span class="keyword">static</span> <span class="keywordtype">bool</span> is_null(T) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }                              \
  <span class="keyword">static</span> T null()                                                       \
    { <a class="code" href="a00186.html#97c9781c1d455b437ccca7514c1cec18" title="Throw exception for attempt to convert null to given type.">internal::throw_null_conversion</a>(name()); <span class="keywordflow">return</span> subject_type(); } \
  <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="a00171.html#8497c178f87e7f5116f3ad8d16340426" title="Convert a field&amp;#39;s string contents to another type.">from_string</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> Str[], T &amp;Obj);                    \
  <span class="keyword">static</span> PGSTD::string <a class="code" href="a00171.html#8b689595eb3d992d460b76eacddcb85b" title="Convert a field to a string.">to_string</a>(T Obj);                                \
};
</pre></div>
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="gdf364687d64294fccdb7229fbcd4e871"></a><!-- doxytag: member="pqxx::from_string" ref="gdf364687d64294fccdb7229fbcd4e871" args="(const std::string &amp;Str, std::string &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="a00246.html#l00179">pqxx::from_string()</a>.</p>

</div>
</div><p>
<a class="anchor" name="g5c1f04f36ada2b9ef338fc9d91fd4d4b"></a><!-- doxytag: member="pqxx::from_string" ref="g5c1f04f36ada2b9ef338fc9d91fd4d4b" args="(const std::stringstream &amp;Str, T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string           </td>
          <td>(</td>
          <td class="paramtype">const std::stringstream &amp;&nbsp;</td>
          <td class="paramname"> <em>Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>Obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>References <a class="el" href="a00241.html#l01007">pqxx::from_string()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gdadff252c93dc630108f1667a75342b7"></a><!-- doxytag: member="pqxx::from_string" ref="gdadff252c93dc630108f1667a75342b7" args="(const std::string &amp;Str, T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>Obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>References <a class="el" href="a00241.html#l01007">pqxx::from_string()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gcd9090fef37cdca192a4e8204ef895c4"></a><!-- doxytag: member="pqxx::from_string" ref="gcd9090fef37cdca192a4e8204ef895c4" args="(const char Str[], T &amp;Obj, size_t)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string           </td>
          <td>(</td>
          <td class="paramtype">const char&nbsp;</td>
          <td class="paramname"> <em>Str</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>Obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Conversion with known string length (for strings that may contain nuls). 
<p>
This is only used for strings, where embedded nul bytes should not determine the end of the string.<p>
For all other types, this just uses the regular, nul-terminated version of <a class="el" href="a00171.html#8497c178f87e7f5116f3ad8d16340426" title="Convert a field&#39;s string contents to another type.">from_string()</a>. 
<p>References <a class="el" href="a00241.html#l01007">pqxx::from_string()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gd1cc702bf191d535e40a2d5b84042e1c"></a><!-- doxytag: member="pqxx::from_string" ref="gd1cc702bf191d535e40a2d5b84042e1c" args="(const char Str[], T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string           </td>
          <td>(</td>
          <td class="paramtype">const char&nbsp;</td>
          <td class="paramname"> <em>Str</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T &amp;&nbsp;</td>
          <td class="paramname"> <em>Obj</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Attempt to convert postgres-generated string to given built-in type. 
<p>
If the form of the value found in the string does not match the expected type, e.g. if a decimal point is found when converting to an integer type, the conversion fails. Overflows (e.g. converting "9999999999" to a 16-bit C++ type) are also treated as errors. If in some cases this behaviour should be inappropriate, convert to something bigger such as <code>long</code> <code>int</code> first and then truncate the resulting value.<p>
Only the simplest possible conversions are supported. No fancy features such as hexadecimal or octal, spurious signs, or exponent notation will work. No whitespace is stripped away. Only the kinds of strings that come out of PostgreSQL and out of <a class="el" href="a00171.html#8b689595eb3d992d460b76eacddcb85b" title="Convert a field to a string.">to_string()</a> can be converted. 
<p>References <a class="el" href="a00246.html#l00218">pqxx::from_string()</a>.</p>

</div>
</div><p>
<a class="anchor" name="gf11e0dd40ce4ff2094cc37337a972eed"></a><!-- doxytag: member="pqxx::from_string&lt; std::string &gt;" ref="gf11e0dd40ce4ff2094cc37337a972eed" args="(const char Str[], std::string &amp;Obj, size_t len)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void pqxx::from_string&lt; std::string &gt;           </td>
          <td>(</td>
          <td class="paramtype">const char&nbsp;</td>
          <td class="paramname"> <em>Str</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>Obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="gd7db89895c3e9dc77818dbdedbc31669"></a><!-- doxytag: member="pqxx::to_string" ref="gd7db89895c3e9dc77818dbdedbc31669" args="(const char Obj[])" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std ::string pqxx::to_string           </td>
          <td>(</td>
          <td class="paramtype">const char&nbsp;</td>
          <td class="paramname"> <em>Obj</em>[]          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Referenced by <a class="el" href="a00246.html#l00235">pqxx::to_string()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ge4a87207681178bc15552f70693457ff"></a><!-- doxytag: member="pqxx::to_string" ref="ge4a87207681178bc15552f70693457ff" args="(const T &amp;Obj)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std ::string pqxx::to_string           </td>
          <td>(</td>
          <td class="paramtype">const T &amp;&nbsp;</td>
          <td class="paramname"> <em>Obj</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Convert built-in type to a readable string that PostgreSQL will understand. 
<p>
No special formatting is done, and any locale settings are ignored. The resulting string will be human-readable and in a format suitable for use in SQL queries. 
<p>References <a class="el" href="a00246.html#l00239">pqxx::to_string()</a>.</p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Feb 15 18:22:46 2010 for libpqxx by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
